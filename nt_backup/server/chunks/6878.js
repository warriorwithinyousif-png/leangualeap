exports.id=6878,exports.ids=[6878],exports.modules={6475:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return s.findSourceMapURL}});let r=a(11264),s=a(11448),i=a(19357).createServerReference},14426:(e,t,a)=>{"use strict";a.d(t,{U:()=>s});var r=a(6475);let s=(0,r.createServerReference)("409b6426decbf1960f80182e8e53a4f71898d0e670",r.callServer,void 0,r.findSourceMapURL,"generateGrammarQuiz")},15098:(e,t,a)=>{"use strict";a.d(t,{MI:()=>p,kh:()=>f,np:()=>m});var r=a(60687),s=a(33660),i=a(96305),n=a(43146),o=a(75535),l=a(54254);let d={review_word:5,spell_correct:5,daily_login:20,master_word:10,grammar_test:20},c=e=>({timeSpentSeconds:0,totalWordsReviewed:0,xp:0,reviewedToday:{count:0,date:e,timeSpentSeconds:0,completedTests:[]},activityLog:[],spellingPractice:{count:0,date:e},lastLoginDate:"1970-01-01",weekStartDate:(0,s.k)(new Date,{weekStartsOn:1}).toISOString(),lastWeek:null,hasSeenLastWeekResults:!0});async function u(e){let t=query((0,o.rJ)(l.db,"users"),where("supervisorId","==",e)),a=await (0,o.GG)(t);return await Promise.all(a.docs.map(async e=>{let t={...e.data(),id:e.id},a=await p(t.id);return{user:t,stats:a}}))}let p=async e=>{let t,a,r=new Date,n=r.toLocaleDateString("en-CA"),d=(0,s.k)(r,{weekStartsOn:1}),p=`${r.getFullYear()}-${(0,i.N)(r,{weekStartsOn:1})}`,f=(0,o.H9)(l.db,`users/${e}/app-data/stats`),m=await (0,o.x7)(f);m.exists()?t=m.data():(t=c(n),await (0,o.BN)(f,t)),"number"!=typeof t.xp&&(t.xp=0),t.lastLoginDate||(t.lastLoginDate="1970-01-01"),t.weekStartDate||(t.weekStartDate=d.toISOString()),"boolean"!=typeof t.hasSeenLastWeekResults&&(t.hasSeenLastWeekResults=!0);let g=new Date(t.weekStartDate),v=`${g.getFullYear()}-${(0,i.N)(g,{weekStartsOn:1})}`;if(p!==v&&!t.lastWeek?.weekId?.endsWith(v)&&(a=await h(e),a?.supervisorId)){let e=await u(a.supervisorId),r=e.map(({user:e,stats:t})=>({...e,xp:t.xp})).sort((e,t)=>t.xp-e.xp).slice(0,3).map((e,t)=>({id:e.id,name:e.name,avatar:e.avatar,xp:e.xp,rank:t+1}));for(let{user:t}of e){let e=(0,o.H9)(l.db,`users/${t.id}/app-data/stats`);await (0,o.BN)(e,{xp:0,weekStartDate:d.toISOString(),lastWeek:{weekId:v,winners:r},hasSeenLastWeekResults:!1},{merge:!0})}let s=await (0,o.x7)(f);s.exists()&&(t=s.data())}return t.reviewedToday&&t.reviewedToday.date===n||(t.reviewedToday={count:0,date:n,timeSpentSeconds:0,completedTests:[]}),t.spellingPractice&&t.spellingPractice.date===n||(t.spellingPractice={count:0,date:n}),Array.isArray(t.activityLog)||(t.activityLog=[]),Array.isArray(t.reviewedToday.completedTests)||(t.reviewedToday.completedTests=[]),"number"!=typeof t.reviewedToday.timeSpentSeconds&&(t.reviewedToday.timeSpentSeconds=0),t},f=async(e,t)=>{if(!e)return{updated:!1,amount:0};let a=await p(e),r=d[t],s=new Date().toLocaleDateString("en-CA");if("daily_login"===t){if(a.lastLoginDate===s)return{updated:!1,amount:0};a.lastLoginDate=s}a.xp+=r;let i=(0,o.H9)(l.db,`users/${e}/app-data/stats`);return await (0,o.BN)(i,a,{merge:!0}),{updated:!0,amount:r}},m=async({userId:e,reviewedCount:t=0,durationSeconds:a=0,testName:s,spelledCount:i=0,toast:c,markAsSeen:u=!1})=>{if(!e)return;let f=await p(e),m=new Date().toLocaleDateString("en-CA");f.totalWordsReviewed+=t,f.timeSpentSeconds+=a,f.reviewedToday.count+=t,f.reviewedToday.timeSpentSeconds+=a,f.spellingPractice.count+=i,f.activityLog.includes(m)||f.activityLog.push(m),s&&!f.reviewedToday.completedTests.includes(s)&&(f.reviewedToday.completedTests.push(s),f.xp+=d.grammar_test,c&&c({description:(0,r.jsx)(n.Y,{event:"grammar_test",amount:d.grammar_test}),duration:3e3})),u&&(f.hasSeenLastWeekResults=!0);let h=(0,o.H9)(l.db,`users/${e}/app-data/stats`);await (0,o.BN)(h,f,{merge:!0})};async function h(e){if(!e)return;let t=(0,o.H9)(l.db,"users",e),a=await (0,o.x7)(t);if(!a.exists())return;let r=a.data();return r.trialExpiresAt&&r.trialExpiresAt instanceof Timestamp&&(r.trialExpiresAt=r.trialExpiresAt.toDate().toISOString()),{...r,id:a.id}}},43146:(e,t,a)=>{"use strict";a.d(t,{Y:()=>u});var r=a(60687),s=a(97034),i=a(51212),n=a(26622),o=a(53098),l=a(916),d=a(94363);let c={review_word:(0,r.jsx)(s.A,{className:"h-5 w-5 text-green-500"}),spell_correct:(0,r.jsx)(i.A,{className:"h-5 w-5 text-green-500"}),daily_login:(0,r.jsx)(n.A,{className:"h-5 w-5 text-green-500"}),master_word:(0,r.jsx)(o.A,{className:"h-5 w-5 text-yellow-500"}),grammar_test:(0,r.jsx)(o.A,{className:"h-5 w-5 text-yellow-500"})};function u({event:e,amount:t}){let{t:a}=(0,d.o)(),s=a(`xpEvents.${e}`),i=c[e];return(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[i,(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-semibold",children:s}),(0,r.jsxs)("span",{className:"flex items-center gap-1 text-sm text-yellow-500 font-bold",children:["+",t," XP",(0,r.jsx)(l.A,{className:"h-4 w-4 fill-current"})]})]})]})}},44493:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>o,wL:()=>u});var r=a(60687),s=a(43210),i=a(4780);let n=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},47002:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=47002,e.exports=t},50812:(e,t,a)=>{"use strict";a.d(t,{C:()=>d,z:()=>l});var r=a(60687),s=a(43210),i=a(14555),n=a(73256),o=a(4780);let l=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.bL,{className:(0,o.cn)("grid gap-2",e),...t,ref:a}));l.displayName=i.bL.displayName;let d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.q7,{ref:a,className:(0,o.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,r.jsx)(i.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(n.A,{className:"h-2.5 w-2.5 fill-current text-current"})})}));d.displayName=i.q7.displayName},77368:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},80013:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(60687),s=a(43210),i=a(78148),n=a(24224),o=a(4780);let l=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.b,{ref:a,className:(0,o.cn)(l(),e),...t}));d.displayName=i.b.displayName},91821:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>l,TN:()=>c,XL:()=>d});var r=a(60687),s=a(43210),i=a(24224),n=a(4780);let o=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef(({className:e,variant:t,...a},s)=>(0,r.jsx)("div",{ref:s,role:"alert",className:(0,n.cn)(o({variant:t}),e),...a}));l.displayName="Alert";let d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("h5",{ref:a,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));d.displayName="AlertTitle";let c=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},91937:(e,t,a)=>{"use strict";a.d(t,{Iv:()=>i,PL:()=>s,Yr:()=>n});var r=a(21233);let s=r.Ik({tense:r.Yj().describe("The grammatical tense for the quiz, e.g., 'Present Simple'.")}),i=r.Ik({questionText:r.Yj().describe("The text of the multiple-choice question, often a fill-in-the-blank sentence."),options:r.YO(r.Yj()).length(4).describe("An array of four possible answers."),correctOption:r.Yj().describe("The correct answer from the options array.")}),n=r.Ik({questions:r.YO(i).length(5).describe("An array of 5 quiz questions.")})},94675:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"409b6426decbf1960f80182e8e53a4f71898d0e670":()=>f});var r=a(91199);a(42087);var s=a(95427),i=a(37612),n=a(91937),o=a(33331);let l={"Present Simple":`
1. I go to school every day.
2. You study hard.
3. We enjoy ourselves.
4. They eat apples.
5. Hadi and Huda leave home at 7:30.
6. He jumps high.
7. She plays tennis.
8. It runs fast.
9. The cat eats a mouse.
10. Ali plays football.
`,"Past Simple":`
1. I went to the park yesterday.
2. You studied for the exam.
3. We enjoyed the party last night.
4. They ate all the cookies.
5. He jumped over the fence.
6. She played tennis with her friend.
7. It ran across the road.
8. The cat ate the mouse.
9. Ali played football on Saturday.
10. We lived there for five years.
`,"Present Continuous":`
1. I am going to the store now.
2. You are studying English.
3. We are enjoying the movie.
4. They are eating lunch.
5. He is jumping on the bed.
6. She is playing the piano.
7. It is running in the garden.
8. The cat is eating its food.
9. Ali is playing video games.
10. The children are doing their homework.
`},d=`
1. Create a fill-in-the-blank style question where the auxiliary verb (am, is, are) is PART of the sentence. The blank should represent the main verb in its present participle (-ing) form.
2. Provide four options: one is the correctly spelled present participle, and the other three are plausible but incorrect common misspellings of that verb. For example, for the verb 'bake', the options could be 'baking' (correct), 'bakeing', 'bakking', 'bakeng'.
`,c=`
1. Create a fill-in-the-blank style question.
2. Provide four options: one is the correct verb form for the tense, and the other three are plausible but incorrect verb forms (e.g., wrong tense, wrong conjugation).
`,u=s.ai.definePrompt({name:"generateGrammarQuizPrompt",input:{schema:i.z.object({tense:i.z.string(),examples:i.z.string(),instructions:i.z.string()})},output:{schema:n.Yr},prompt:`You are an expert English teacher creating a grammar quiz. Your task is to generate 5 multiple-choice questions to test a student's understanding of the specified tense.

Tense to test: {{{tense}}}

Base the quiz on the fundamental structure and usage shown in these example sentences, but DO NOT use the exact same sentences in your questions. Create new, different sentences for the quiz.

Example sentences for the '{{{tense}}}' tense:
{{{examples}}}

For each question:
{{{instructions}}}

3. Ensure the correct answer is one of the four options.
4. The output must be a JSON object containing a 'questions' array with exactly 5 question objects.
`}),p=s.ai.defineFlow({name:"generateGrammarQuizFlow",inputSchema:n.PL,outputSchema:n.Yr},async e=>{let t=l[e.tense];if(!t)throw Error(`Currently, quizzes for '${e.tense}' are not supported.`);let a="Present Continuous"===e.tense?d:c,{output:r}=await u({...e,examples:t,instructions:a});if(!r)throw Error("AI failed to generate quiz questions.");return r});async function f(e){return p(e)}(0,o.D)([f]),(0,r.A)(f,"409b6426decbf1960f80182e8e53a4f71898d0e670",null)},95427:(e,t,a)=>{"use strict";a.d(t,{ai:()=>i});var r=a(37612),s=a(52205);let i=(0,r.genkit)({plugins:[(0,s.YF)()],model:"googleai/gemini-2.0-flash"})}};