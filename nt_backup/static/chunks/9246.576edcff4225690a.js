"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9246],{4607:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(40157).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},4637:(e,t,r)=>{r.d(t,{g:()=>i});var s=r(95155),a=r(59434);function i(e){let{className:t}=e;return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,a.cn)("h-8 w-8",t),children:[(0,s.jsx)("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",className:"text-primary",fill:"hsl(var(--primary))",stroke:"hsl(var(--primary))"}),(0,s.jsx)("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",className:"text-primary"})]})}},5845:(e,t,r)=>{r.d(t,{i:()=>l});var s,a=r(12115),i=r(52712),n=(s||(s=r.t(a,2)))[" useInsertionEffect ".trim().toString()]||i.N;function l({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){let[i,l,o]=function({defaultProp:e,onChange:t}){let[r,s]=a.useState(e),i=a.useRef(r),l=a.useRef(t);return n(()=>{l.current=t},[t]),a.useEffect(()=>{i.current!==r&&(l.current?.(r),i.current=r)},[r,i]),[r,s,l]}({defaultProp:t,onChange:r}),d=void 0!==e,c=d?e:i;{let t=a.useRef(void 0!==e);a.useEffect(()=>{let e=t.current;if(e!==d){let t=d?"controlled":"uncontrolled";console.warn(`${s} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=d},[d,s])}return[c,a.useCallback(t=>{if(d){let r="function"==typeof t?t(e):t;r!==e&&o.current?.(r)}else l(t)},[d,e,l,o])]}Symbol("RADIX:SYNC_STATE")},17607:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(40157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},35695:(e,t,r)=>{var s=r(18999);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},40157:(e,t,r)=>{r.d(t,{A:()=>o});var s=r(12115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:r,strokeWidth:o?24*Number(l)/Number(a):l,className:i("lucide",d),...m},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:o,...d}=r;return(0,s.createElement)(l,{ref:n,iconNode:t,className:i("lucide-".concat(a(e)),o),...d})});return r.displayName="".concat(e),r}},46081:(e,t,r)=>{r.d(t,{A:()=>n,q:()=>i});var s=r(12115),a=r(95155);function i(e,t){let r=s.createContext(t),i=e=>{let{children:t,...i}=e,n=s.useMemo(()=>i,Object.values(i));return(0,a.jsx)(r.Provider,{value:n,children:t})};return i.displayName=e+"Provider",[i,function(a){let i=s.useContext(r);if(i)return i;if(void 0!==t)return t;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function n(e,t=[]){let r=[],i=()=>{let t=r.map(e=>s.createContext(e));return function(r){let a=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return i.scopeName=e,[function(t,i){let n=s.createContext(i),l=r.length;r=[...r,i];let o=t=>{let{scope:r,children:i,...o}=t,d=r?.[e]?.[l]||n,c=s.useMemo(()=>o,Object.values(o));return(0,a.jsx)(d.Provider,{value:c,children:i})};return o.displayName=t+"Provider",[o,function(r,a){let o=a?.[e]?.[l]||n,d=s.useContext(o);if(d)return d;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(i,...t)]}},52712:(e,t,r)=>{r.d(t,{N:()=>a});var s=r(12115),a=globalThis?.document?s.useLayoutEffect:()=>{}},59409:(e,t,r)=>{r.d(t,{bq:()=>m,eb:()=>x,gC:()=>h,l6:()=>c,yv:()=>u});var s=r(95155),a=r(12115),i=r(31992),n=r(79556),l=r(77381),o=r(10518),d=r(59434);let c=i.bL;i.YJ;let u=i.WT,m=a.forwardRef((e,t)=>{let{className:r,children:a,...l}=e;return(0,s.jsxs)(i.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[a,(0,s.jsx)(i.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.l9.displayName;let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});f.displayName=i.PP.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=i.wn.displayName;let h=a.forwardRef((e,t)=>{let{className:r,children:a,position:n="popper",...l}=e;return(0,s.jsx)(i.ZL,{children:(0,s.jsxs)(i.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...l,children:[(0,s.jsx)(f,{}),(0,s.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(p,{})]})})});h.displayName=i.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=i.JU.displayName;let x=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(i.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(i.p4,{children:a})]})});x.displayName=i.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=i.wv.displayName},62523:(e,t,r)=>{r.d(t,{p:()=>n});var s=r(95155),a=r(12115),i=r(59434);let n=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},63655:(e,t,r)=>{r.d(t,{hO:()=>o,sG:()=>l});var s=r(12115),a=r(47650),i=r(99708),n=r(95155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,i.TL)(`Primitive.${t}`),a=s.forwardRef((e,s)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(a?r:t,{...i,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function o(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},66174:(e,t,r)=>{r.r(t),r.d(t,{RegisterForm:()=>S});var s=r(95155),a=r(6874),i=r.n(a),n=r(30285),l=r(66695),o=r(62523),d=r(85057),c=r(4637),u=r(87481),m=r(12115),f=r(4607),p=r(17607),h=r(50172),x=r(20794),g=r(9086),v=r(35695),j=r(70927),w=r(59409),y=r(93004),N=r(4382);let b=j.Ik({name:j.Yj().min(1,"Name is required."),email:j.Yj().email("Invalid email address."),password:j.Yj().min(6,"Password must be at least 6 characters."),supervisorId:j.Yj().min(1,"Supervisor ID is required."),grade:j.Yj().min(1,"Grade is required."),section:j.Yj().min(1,"Section is required.")});function S(){let{toast:e}=(0,u.dj)(),{t}=(0,x.o)(),r=(0,v.useRouter)(),[a,j]=(0,m.useState)(!1),[S,A]=(0,m.useState)(!1),T=async s=>{s.preventDefault(),A(!0);let a=new FormData(s.currentTarget),i=b.safeParse({name:a.get("name"),email:a.get("email"),password:a.get("password"),supervisorId:a.get("supervisorId"),grade:a.get("grade"),section:a.get("section")});if(!i.success){var n;let r=null==(n=Object.values(i.error.flatten().fieldErrors)[0])?void 0:n[0];e({title:t("toasts.error"),description:r||"Validation failed.",variant:"destructive"}),A(!1);return}let{name:l,email:o,password:d,supervisorId:c,grade:u,section:m}=i.data;try{let s=await (0,g.iA)(c);if(!s||"supervisor"!==s.role){e({title:t("toasts.error"),description:t("toasts.invalidSupervisorId"),variant:"destructive"}),A(!1);return}let a={id:(await (0,y.eJ)(N.j,o,d)).user.uid,name:l,email:o,role:"student",avatar:"https://placehold.co/100x100.png",supervisorId:s.id,timezone:"Asia/Baghdad",grade:u,section:m};await (0,g.tW)(a),e({title:t("toasts.success"),description:"Account created successfully!"}),r.push("/welcome?userId=".concat(a.id))}catch(s){let r="An unexpected error occurred.";"auth/email-already-in-use"===s.code&&(r="This email address is already in use."),e({title:t("toasts.error"),description:r,variant:"destructive"})}finally{A(!1)}};return(0,s.jsxs)(l.Zp,{className:"mx-auto max-w-sm w-full",children:[(0,s.jsxs)(l.aR,{className:"text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(c.g,{className:"h-20 w-20"})}),(0,s.jsx)(l.ZB,{className:"text-2xl font-headline",children:t("register.title")}),(0,s.jsx)(l.BT,{children:t("register.description")})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)("form",{onSubmit:T,children:(0,s.jsxs)("div",{className:"grid gap-4 mt-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.J,{htmlFor:"student-name",children:t("register.fullNameLabel")}),(0,s.jsx)(o.p,{id:"student-name",name:"name",placeholder:t("register.fullNamePlaceholder"),required:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.J,{htmlFor:"student-email",children:t("register.emailLabel")}),(0,s.jsx)(o.p,{id:"student-email",type:"email",name:"email",placeholder:t("register.emailPlaceholder"),required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.J,{htmlFor:"grade",children:"Grade"}),(0,s.jsxs)(w.l6,{name:"grade",children:[(0,s.jsx)(w.bq,{children:(0,s.jsx)(w.yv,{placeholder:"Select Grade"})}),(0,s.jsx)(w.gC,{children:Array.from({length:6},(e,t)=>t+1).map(e=>(0,s.jsx)(w.eb,{value:String(e),children:e},e))})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.J,{htmlFor:"section",children:"Section"}),(0,s.jsxs)(w.l6,{name:"section",children:[(0,s.jsx)(w.bq,{children:(0,s.jsx)(w.yv,{placeholder:"Select Section"})}),(0,s.jsx)(w.gC,{className:"max-h-[200px]",children:Array.from({length:26},(e,t)=>String.fromCharCode(65+t)).map(e=>(0,s.jsx)(w.eb,{value:e,children:e},e))})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.J,{htmlFor:"student-password",children:t("register.passwordLabel")}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.p,{id:"student-password",name:"password",type:a?"text":"password",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>j(!a),className:"absolute inset-y-0 right-0 flex items-center px-3 text-muted-foreground hover:text-foreground","aria-label":a?"Hide password":"Show password",children:a?(0,s.jsx)(f.A,{className:"h-4 w-4"}):(0,s.jsx)(p.A,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.J,{htmlFor:"supervisor-id",children:t("register.supervisorIdLabel")}),(0,s.jsx)(o.p,{id:"supervisor-id",name:"supervisorId",placeholder:t("register.supervisorIdPlaceholder"),required:!0})]}),(0,s.jsx)(n.$,{type:"submit",className:"w-full mt-2",disabled:S,children:S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"me-2 h-4 w-4 animate-spin"})," ",t("register.createAccountButton"),"..."]}):t("register.createAccountButton")})]})}),(0,s.jsxs)("div",{className:"mt-4 text-center text-sm",children:[t("register.haveAccount")," ",(0,s.jsx)(i(),{href:"/login",className:"underline",children:t("register.login")})]}),(0,s.jsx)("div",{className:"mt-4 text-center text-sm",children:(0,s.jsx)(i(),{href:"/contact-admin",className:"underline text-muted-foreground",children:"Want to become a supervisor? Message us!"})})]})]})}},85057:(e,t,r)=>{r.d(t,{J:()=>d});var s=r(95155),a=r(12115),i=r(40968),n=r(74466),l=r(59434);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.b,{ref:t,className:(0,l.cn)(o(),r),...a})});d.displayName=i.b.displayName},85185:(e,t,r)=>{r.d(t,{mK:()=>a});var s=!!("undefined"!=typeof window&&window.document&&window.document.createElement);function a(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),!1===r||!s.defaultPrevented)return t?.(s)}}},87481:(e,t,r)=>{r.d(t,{dj:()=>m});var s=r(12115);let a=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},5e3);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}}]);