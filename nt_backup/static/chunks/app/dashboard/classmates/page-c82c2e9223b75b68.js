(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4108],{956:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var a=r(44598),s=r(80644);function n(e){var t=(0,a.A)(e);return+(0,s.o)(e)==+(0,s.o)(t)}},26126:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var a=r(95155);r(12115);var s=r(74466),n=r(59434);let d=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(d({variant:r}),t),...s})}},27379:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},40157:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(12115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...f}=e;return(0,a.createElement)("svg",{ref:t,...d,width:s,height:s,stroke:r,strokeWidth:i?24*Number(l)/Number(s):l,className:n("lucide",o),...f},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,d)=>{let{className:i,...o}=r;return(0,a.createElement)(l,{ref:d,iconNode:t,className:n("lucide-".concat(s(e)),i),...o})});return r.displayName="".concat(e),r}},42150:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(95155),s=r(12115),n=r(35695),d=r(9086),l=r(66695),i=r(30285),o=r(66766),c=r(94063),u=r(27379),f=r(85268),m=r(6874),h=r.n(m),x=r(26126);function p(){let e=(0,n.useSearchParams)().get("userId"),[t,r]=(0,s.useState)([]),[m,p]=(0,s.useState)({}),g=(0,s.useCallback)(async()=>{if(e){let t=await (0,d.kl)(e);if(t&&t.supervisorId){let a=(await (0,d.HV)(t.supervisorId)).filter(t=>t.id!==e).map(async e=>{let t=await (0,d.Im)(e.id),r=t.filter(e=>-1===e.strength).length,a=t.length-r;return{...e,learningCount:a,masteredCount:r}}),s=await Promise.all(a);r(s);let n={};for(let t of s){let r=[e,t.id].sort().join("-"),a=(await (0,d.FD)(r)).filter(e=>!e.read&&e.senderId===t.id).length;a>0&&(n[t.id]=a)}p(n)}}},[e]);return(0,s.useEffect)(()=>{g()},[g]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"My Classmates"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"See other students from your class and their progress."}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Class List"}),(0,a.jsx)(l.BT,{children:'A list of all students learning under your supervisor. Go to the unified "Chat" page to message them.'})]}),(0,a.jsx)(l.Wu,{children:t.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(t=>{let r=m[t.id]||0;return(0,a.jsxs)("div",{className:"p-4 border rounded-lg flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.default,{src:t.avatar,alt:t.name,width:40,height:40,className:"rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:t.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:t.grade&&t.section?"Grade ".concat(t.grade," | Section ").concat(t.section):""})]})]}),(0,a.jsx)(h(),{href:"/dashboard/chat?userId=".concat(e,"&contactId=").concat(t.id),passHref:!0,children:(0,a.jsxs)(i.$,{variant:"ghost",size:"icon",className:"relative",children:[(0,a.jsx)(c.A,{className:"h-5 w-5"}),r>0&&(0,a.jsx)(x.E,{className:"absolute -top-1 -right-1 h-4 w-4 justify-center p-0",children:r})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-around gap-4 pt-3 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:t.learningCount}),(0,a.jsx)("span",{children:"Learning"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-amber-500"}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:t.masteredCount}),(0,a.jsx)("span",{children:"Mastered"})]})]})]},t.id)})}):(0,a.jsx)("div",{className:"text-center text-muted-foreground py-12",children:"You don't have any classmates yet."})})]})]})}},44598:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(92084);function s(e){return(0,a.w)(e,Date.now())}},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(52596),s=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>d,aR:()=>l,wL:()=>u});var a=r(95155),s=r(12115),n=r(59434);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});d.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},70172:(e,t,r)=>{Promise.resolve().then(r.bind(r,42150))},78039:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});var a=r(35476),s=r(92084);function n(e,t){let r=(0,a.a)(e);if(isNaN(t))return(0,s.w)(e,NaN);if(!t)return r;let n=r.getDate(),d=(0,s.w)(e,r.getTime());return(d.setMonth(r.getMonth()+t+1,0),n>=d.getDate())?d:(r.setFullYear(d.getFullYear(),d.getMonth(),n),r)}},80644:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var a=r(35476);function s(e){let t=(0,a.a)(e);return t.setHours(0,0,0,0),t}},85268:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},86622:(e,t,r)=>{"use strict";r.d(t,{e:()=>s});var a=r(78039);function s(e,t){return(0,a.P)(e,12*t)}},94063:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7416,4277,2557,6874,6766,1858,8441,1684,7358],()=>t(70172)),_N_E=e.O()}]);