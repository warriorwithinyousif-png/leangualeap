# Firebase App Hosting configuration for Next.js SSR

runConfig:
  # Keep low for dev, increase for production traffic
  maxInstances: 1

build:
  # Clean build every deploy to avoid stale output
  command: |
    rm -rf .next
    npm ci
    npm run build

env:
  - key: NODE_ENV
    value: production
  # Example: add your own public/private env vars here
  # - key: NEXT_PUBLIC_API_URL
  #   value: https://api.example.com
